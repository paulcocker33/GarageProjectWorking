<!DOCTYPE html>
{# Load the tag library #}
{% load bootstrap3 %}

{# Load CSS and JavaScript #}
{% bootstrap_css %}
{% bootstrap_javascript %}

{# Display django.contrib.messages as Bootstrap alerts #}
{% bootstrap_messages %}

<html lang="en">
<head>
    <title>Controller Page</title>
    <style>
        h1 {text-align: center;}
        ul {
            display: block;
        }
    </style>
</head>
<body>
<body>
<h1>Controller Page</h1>
{% if latest_controller_list %}
    <table class="table table-striped">
    <caption>Controller Information</caption>
    <tr>
        <th>Controller ID</th>
        <th>Controller Type</th>
        <th>Controller Owner</th>
        <th>Controller Name</th>
        <th>Controller IP_Address</th>
        <th>Controller Active</th>
        <th>Controller Address</th>
        <th>Controller Access</th>
    </tr>
    {% for controller in latest_controller_list %}
        <tr>
            <td><a href="/doors/controllers/{{ controller.id }}/">{{ controller.id }}</a></td>
            <td>{{ controller.controller_type }}</td>
            <td>{{ controller.owner }}</td>
            <td>{{ controller.name }}</td>
            <td>{{ controller.ip_address }}</td>
            <td>{{ controller.device_Online }}</td>
            <td>{{ controller.number }} {{ controller.street }} {{ controller.locality }} {{ controller.city }}</td>
            <td><button onclick="window.location.href='http://{{ controller.ip_address }}:{{ controller.device_port }}';" target="_blank">Trigger!</button></td>
        </tr>
    {% endfor %}
    </table>
    <div class="alert alert-success alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Success!</strong> Controllers Listed Successfully!
  </div>
{% else %}
    <div class="alert alert-danger alert-dismissible fade in">
    <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
    <strong>Danger!</strong> No Controllers were Found!
    </div>
{% endif %}
</body>
</body>
</html>